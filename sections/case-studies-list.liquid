{% comment %}
Case Studies List Section
Displays selected blog articles in a grid layout.
{% endcomment %}

<div class="case-studies-list page-width">
  {% if section.settings.case_blog != blank %}
    {% assign blog_handle = section.settings.case_blog %}
    {% assign case_blog = blogs[blog_handle] %}
    
    {% if case_blog.articles_count > 0 %}
      <div class="grid grid--{{ section.settings.columns }}-col">
        {% for article in case_blog.articles limit: section.settings.limit %}
          <div class="grid__item">
            <div class="case-study-card">
              {% if article.image %}
                <a href="{{ article.url }}" class="case-study-image">
                  <img 
                    src="{{ article.image | img_url: '720x' }}" 
                    alt="{{ article.image.alt | escape }}"
                    loading="lazy"
                  >
                </a>
              {% endif %}
              
              <div class="case-study-content">
                <h3 class="case-study-title">
                  <a href="{{ article.url }}">{{ article.title }}</a>
                </h3>
                {% if article.excerpt != blank %}
                  <p class="case-study-excerpt">{{ article.excerpt | strip_html | truncatewords: 20 }}</p>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No case studies found in the selected blog.</p>
    {% endif %}
  {% else %}
    <p>Please select a blog in the section settings.</p>
  {% endif %}
</div>

<style>
  .case-studies-list {
    margin: 3rem auto;
  }
  .case-study-card {
    background: #fff;
    border: 1px solid #eee;
    border-radius: 6px;
    overflow: hidden;
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  .case-study-image img {
    display: block;
    width: 100%;
    height: auto;
  }
  .case-study-content {
    padding: 1rem;
  }
  .case-study-title {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
  }
  .case-study-excerpt {
    color: #555;
    font-size: 0.9rem;
  }
  .grid {
    display: grid;
    gap: 1.5rem;
  }
  .grid--1-col {
    grid-template-columns: 1fr;
  }
  .grid--2-col {
    grid-template-columns: repeat(
